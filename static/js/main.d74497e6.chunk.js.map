{"version":3,"sources":["Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js"],"names":["BASE_URL","KEY","ApiServise","keyword","page","axios","get","then","response","data","hits","catch","error","console","log","Searchbar","state","imageName","onInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","alert","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","id","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","children","LoadMoreBtn","onBtnClick","App","isLoading","showModal","fetchApiService","prevState","scrollTo","top","documentElement","scrollHeight","behavior","finally","onLoadMoreClick","toggleModal","openBigImage","dataset","url","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d74497e6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"22530693-10a6882b39438d2f880057b1b\";\n\nexport default function ApiServise(keyword, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits)\n    .catch((error) => console.log(error));\n}\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n  onInputChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Please, enter smthk\");\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.onInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  state: PropTypes.object.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const { id, webformatURL, tags, largeImageURL } = image;\n  return (\n    <li className=\"ImageGalleryItem\" key={id} onClick={onClick}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        data-url={largeImageURL}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackDropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackDropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function LoadMoreBtn({ onBtnClick }) {\n  return (\n    <div className=\"btnWrapper\">\n      <button type=\"button\" onClick={onBtnClick} className=\"Button\">\n        Load More\n      </button>\n    </div>\n  );\n}\n\nLoadMoreBtn.propTypes = {\n  onBtnClick: PropTypes.func.isRequired,\n};\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport ApiServise from \"./Components/API\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Modal from \"./Components/Modal/Modal\";\nimport LoadMoreBtn from \"./Components/Button/Button\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    imageName: \"\",\n    page: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n    tags: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { imageName, page } = this.state;\n    if (prevState.imageName !== imageName) {\n      this.fetchApiService(imageName, page);\n    }\n  }\n\n  fetchApiService = () => {\n    const { imageName, page } = this.state;\n    this.setState({ isLoading: true });\n    ApiServise(imageName, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n        if (page !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => this.setState({ error: \"Ooops, something went wrong\" }))\n\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  onLoadMoreClick = () => {\n    this.fetchApiService();\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  onSubmit = (imageName) => {\n    this.setState({\n      imageName,\n      page: 1,\n      images: [],\n    });\n  };\n\n  openBigImage = (event) => {\n    this.setState({\n      largeImageURL: event.target.dataset.url,\n      tags: event.target.alt,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { showModal, largeImageURL, tags, images } = this.state;\n    return (\n      <div className=\"App\">\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmit} state={this.state} />\n        <ImageGallery images={images} onClick={this.openBigImage} />\n        {images.length !== 0 && images.length >= 12 && (\n          <LoadMoreBtn onBtnClick={this.onLoadMoreClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}