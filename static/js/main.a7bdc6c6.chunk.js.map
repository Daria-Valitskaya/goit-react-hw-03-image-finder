{"version":3,"sources":["Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","App.js","index.js"],"names":["BASE_URL","KEY","ApiServise","keyword","page","axios","get","then","response","data","hits","catch","error","console","log","Searchbar","state","imageName","onInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","alert","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","images","map","image","modalRoot","document","querySelector","Modal","window","addEventListener","code","onClose","createPortal","children","App","isLoading","showModal","fetchApiService","prevState","finally","toggleModal","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a7bdc6c6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"22530693-10a6882b39438d2f880057b1b\";\n\nexport default function ApiServise(keyword, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits)\n    .catch((error) => console.log(error));\n}\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n  onInputChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Please, enter smthk\");\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.onInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  state: PropTypes.object.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClick,\n}) {\n  // const { id, webformatURL, tags, largeImageURL } = image;\n  return (\n    <li className=\"ImageGalleryItem\" key={id} onClick={onClick}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        data-url={largeImageURL}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  // image: PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  // }),\n};\n","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", (event) => {\n      if (event.code === \"Escape\") {\n        this.props.onClose();\n      }\n    });\n  }\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport ApiServise from \"./Components/API\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Modal from \"./Components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    imageName: \"\",\n    page: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n    tags: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { imageName, page } = this.state;\n    if (prevState.imageName !== imageName) {\n      this.fetchApiService(imageName, page);\n    }\n  }\n\n  fetchApiService = () => {\n    const { imageName, page } = this.state;\n    this.setState({ isLoading: true });\n    ApiServise(imageName, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error: \"Ooops, something went wrong\" }))\n\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  // onOpenModal = () => {\n  //   console.log(this.state);\n  // };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  onSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.state.largeImageURL} alt={this.state.tags} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmit} state={this.state} />\n        <ImageGallery images={this.state.images} onClick={this.toggleModal} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}